# Filtering mutations by number of occurrences and/or genome position

Calculated spectra can contain individual mutations more than once. In some cases, these will represent real mutations that have occurred multiple times through the history of a pathogen clade. In other cases, these might represent spurious mutations at, for example, difficult to align sites or amplicon dropouts. Depending on the use case, it may therefore be useful to apply filters to remove mutations inferred to occur on more than a specified number of occasions across the tree

It is also possible to filter mutations by their position in the genome or the alignment file to examine the spectrum of specific parts of the genome without having to split the alignment first

To filter mutations, run:
```
python3 post_process_branch_mutations.py -m all_included_mutations.csv -o post_process --filter -n 10 -g 1 100000
```

This takes the all_included_mutations.csv file generated by MutTui and writes new files to the directory provided with -o (post_process in this case)

The maximum number of mutations allowed to keep a mutation is set with -n. In this example any mutation that occurs 11 or more times is filtered out

The genome positions to keep are set with -g followed by the first and last positions to keep. In this example, mutations between positions 1 and 100000 are kept. To filter based on alignment positions instead, use -a followed by the first and last positions to keep
